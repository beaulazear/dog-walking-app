(this["webpackJsonpreact-rails-api-project-template-client"]=this["webpackJsonpreact-rails-api-project-template-client"]||[]).push([[0],{89:function(e,t,a){},97:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a.n(n),s=a(25),r=a.n(s),i=(a(89),a(4)),l=a(0),o=c.a.createContext();function j(e){var t=e.children,a=Object(n.useState)(null),c=Object(i.a)(a,2),s=c[0],r=c[1];return Object(n.useEffect)((function(){fetch("/me").then((function(e){e.ok&&e.json().then((function(e){return r(e)}))}))}),[]),Object(l.jsx)(o.Provider,{value:{user:s,setUser:r},children:t})}var d=a(9),b=(a(34),a(16)),u=a(33),h=a(54);function p(){var e=Object(n.useContext)(o).setUser,t=Object(d.n)();return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(h.a,{bg:"dark","data-bs-theme":"dark",children:Object(l.jsxs)(b.a,{children:[Object(l.jsx)(h.a.Brand,{href:"/loggedinhome",children:"PocketWalks"}),Object(l.jsxs)(u.a,{className:"me-auto",children:[Object(l.jsx)(u.a.Link,{href:"/petspage",children:"Pets"}),Object(l.jsx)(u.a.Link,{href:"/todayswalkspage",children:"Today"}),Object(l.jsx)(u.a.Link,{href:"/invoicespage",children:"Invoices"}),Object(l.jsx)(u.a.Link,{onClick:function(){fetch("/logout",{method:"DELETE"}).then((function(){e(null),t("/")}))},children:"Logout"})]})]})})})}function O(){return Object(l.jsx)(l.Fragment,{children:Object(l.jsx)(h.a,{bg:"primary","data-bs-theme":"dark",children:Object(l.jsxs)(b.a,{children:[Object(l.jsx)(h.a.Brand,{href:"/",children:"PocketWalks"}),Object(l.jsxs)(u.a,{className:"me-auto",children:[Object(l.jsx)(u.a.Link,{href:"/login",children:"Login"}),Object(l.jsx)(u.a.Link,{href:"/signuppage",children:"Signup"})]})]})})})}var x=a(10);function m(){return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h1",{className:"display-4 m-3",children:"Welcome to PocketWalks"}),Object(l.jsx)("h2",{className:"m-3",children:"Login or Signup to gain access to the following:"}),Object(l.jsxs)(x.a,{className:"m-2",children:[Object(l.jsx)(x.a.Header,{as:"h5",children:"Current Pets"}),Object(l.jsxs)(x.a.Body,{children:[Object(l.jsx)(x.a.Title,{children:"Your Own Pet Database"}),Object(l.jsx)(x.a.Text,{children:'the "Pets" page to view, edit, & delete these pets.'})]})]}),Object(l.jsxs)(x.a,{className:"m-2",children:[Object(l.jsx)(x.a.Header,{as:"h5",children:"Appointment Scheduling"}),Object(l.jsxs)(x.a.Body,{children:[Object(l.jsx)(x.a.Title,{children:"Keep track of your pet care appointments"}),Object(l.jsx)(x.a.Text,{children:'Add, edit, and delete appointments for pets in your database. Gain access to the "Today" page to view appointments scheduled for today and mark them as completed as you go. Invoices are created upon completion of appointment.'})]})]}),Object(l.jsxs)(x.a,{className:"m-2",children:[Object(l.jsx)(x.a.Header,{as:"h5",children:"View Invoices"}),Object(l.jsxs)(x.a.Body,{children:[Object(l.jsx)(x.a.Title,{children:"Current and past invoices for all pets"}),Object(l.jsx)(x.a.Text,{children:'Visit the "Invoice" page to view current invoices (unpaid), and past invoices (paid) for each pet in your database.'})]})]})]})}var f=a(14),v=a(5),g=a(31);function y(){var e=Object(n.useContext)(o).setUser,t=Object(d.n)(),a=Object(n.useState)(""),c=Object(i.a)(a,2),s=c[0],r=c[1],j=Object(n.useState)(""),u=Object(i.a)(j,2),h=u[0],p=u[1],O=Object(n.useState)([]),m=Object(i.a)(O,2),y=m[0],S=m[1];return Object(l.jsxs)(b.a,{className:"m-3",children:[Object(l.jsx)("h1",{className:"display-5",children:"User Login"}),Object(l.jsxs)(v.a,{onSubmit:function(a){a.preventDefault(),fetch("/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:s,password:h})}).then((function(a){a.ok?a.json().then((function(a){e(a),t("/loggedinhome")})):a.json().then((function(e){return S(e.error)}))}))},className:"mb-3",children:[Object(l.jsxs)(v.a.Group,{className:"mb-3",children:[Object(l.jsx)(v.a.Label,{children:"Username"}),Object(l.jsx)(v.a.Control,{type:"input",placeholder:"Enter username",value:s,onChange:function(e){r(e.target.value)}})]}),Object(l.jsxs)(v.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(l.jsx)(v.a.Label,{children:"Password"}),Object(l.jsx)(v.a.Control,{type:"password",placeholder:"Password",value:h,onChange:function(e){p(e.target.value)}})]}),Object(l.jsx)(f.a,{variant:"primary",type:"submit",children:"Submit"})]}),(null===y||void 0===y?void 0:y.length)>0&&Object(l.jsx)(g.a,{variant:"danger",children:y},y),Object(l.jsx)(x.a,{className:"bg-light",children:Object(l.jsxs)(x.a.Body,{children:[Object(l.jsx)(x.a.Title,{children:"Not signed up?"}),Object(l.jsx)(x.a.Text,{children:"Visit the signup page to create your account."}),Object(l.jsx)(f.a,{variant:"primary",href:"signuppage",children:"Signup"})]})})]})}function S(){var e=Object(n.useContext)(o).setUser,t=Object(d.n)(),a=Object(n.useState)(""),c=Object(i.a)(a,2),s=c[0],r=c[1],j=Object(n.useState)(""),u=Object(i.a)(j,2),h=u[0],p=u[1],O=Object(n.useState)(""),x=Object(i.a)(O,2),m=x[0],y=x[1],S=Object(n.useState)(""),N=Object(i.a)(S,2),C=N[0],T=N[1],w=Object(n.useState)(""),k=Object(i.a)(w,2),L=k[0],P=k[1],I=Object(n.useState)([]),B=Object(i.a)(I,2),D=B[0],_=B[1];return Object(l.jsxs)(b.a,{className:"m-3",children:[Object(l.jsx)("h1",{className:"display-3",children:"Create Your Account"}),Object(l.jsxs)(v.a,{onSubmit:function(a){a.preventDefault(),fetch("/users",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:s,name:m,email_address:h,password:C,password_confirmation:L})}).then((function(a){a.ok?a.json().then((function(a){e(a),t("/home")})):a.json().then((function(e){return _(e.errors)}))}))},children:[Object(l.jsxs)(v.a.Group,{className:"mb-3",children:[Object(l.jsx)(v.a.Label,{children:"Username"}),Object(l.jsx)(v.a.Control,{onChange:function(e){return r(e.target.value)},value:s,type:"text",placeholder:"Enter Username"})]}),Object(l.jsxs)(v.a.Group,{className:"mb-3",controlId:"formBasicEmail",children:[Object(l.jsx)(v.a.Label,{children:"Email address"}),Object(l.jsx)(v.a.Control,{onChange:function(e){return p(e.target.value)},value:h,type:"email",placeholder:"Enter Email"}),Object(l.jsx)(v.a.Text,{className:"text-muted",children:"We'll never share your email with anyone else."})]}),Object(l.jsxs)(v.a.Group,{className:"mb-3",children:[Object(l.jsx)(v.a.Label,{children:"Name"}),Object(l.jsx)(v.a.Control,{onChange:function(e){return y(e.target.value)},value:m,type:"text",placeholder:"Enter Name"}),Object(l.jsx)(v.a.Text,{className:"text-muted",children:"Please enter your preferred name."})]}),Object(l.jsxs)(v.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(l.jsx)(v.a.Label,{children:"Password"}),Object(l.jsx)(v.a.Control,{onChange:function(e){return T(e.target.value)},value:C,type:"password",placeholder:"Password"})]}),Object(l.jsxs)(v.a.Group,{className:"mb-3",controlId:"formBasicPassword",children:[Object(l.jsx)(v.a.Label,{children:"Password Confirmation"}),Object(l.jsx)(v.a.Control,{onChange:function(e){return P(e.target.value)},value:L,type:"password",placeholder:"Password Confirmation"})]}),(null===D||void 0===D?void 0:D.length)>0&&Object(l.jsx)("ul",{children:D.map((function(e){return Object(l.jsx)(g.a,{variant:"danger",children:e},e)}))}),Object(l.jsx)(f.a,{variant:"primary",type:"submit",children:"Submit"})]})]})}var N=a(15),C=a(76),T=a(44);function w(e){var t=e.updateUserPets,a=Object(n.useState)(""),c=Object(i.a)(a,2),s=c[0],r=c[1],o=Object(n.useState)(""),j=Object(i.a)(o,2),d=j[0],u=j[1],h=Object(n.useState)(""),p=Object(i.a)(h,2),O=p[0],x=p[1],m=Object(n.useState)(""),y=Object(i.a)(m,2),S=y[0],N=y[1],C=Object(n.useState)(""),T=Object(i.a)(C,2),w=T[0],k=T[1],L=Object(n.useState)(""),P=Object(i.a)(L,2),I=P[0],B=P[1],D=Object(n.useState)(""),_=Object(i.a)(D,2),G=_[0],A=_[1],E=Object(n.useState)(!1),F=Object(i.a)(E,2),U=F[0],M=F[1],Y=Object(n.useState)([]),H=Object(i.a)(Y,2),W=H[0],V=H[1];return Object(l.jsxs)(b.a,{className:"m-3",children:[Object(l.jsx)("h1",{className:"display-6",children:"New Pet Form"}),Object(l.jsxs)(v.a,{className:"text-bg-light p-3",onSubmit:function(e){e.preventDefault(),fetch("/pets",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:s,sex:O,address:d,birthdate:S,allergies:w,behavorial_notes:G,supplies_location:I,spayed_neutered:U})}).then((function(e){e.ok?e.json().then((function(e){t(e)})):e.json().then((function(e){return V(e.errors)}))}))},children:[Object(l.jsxs)(v.a.Group,{classsex:"mb-3",children:[Object(l.jsx)(v.a.Label,{children:"Pet's Name"}),Object(l.jsx)(v.a.Control,{onChange:function(e){return r(e.target.value)},value:s,type:"text",placeholder:"Enter name"})]}),Object(l.jsxs)(v.a.Group,{classsex:"mb-3",controlId:"formBasicaddress",children:[Object(l.jsx)(v.a.Label,{children:"Address"}),Object(l.jsx)(v.a.Control,{onChange:function(e){return u(e.target.value)},value:d,type:"text",placeholder:"Enter address"}),Object(l.jsx)(v.a.Text,{classsex:"text-muted",children:"Please enter the address of the pet. Make sure to specify an apartment number if there is one."})]}),Object(l.jsxs)(v.a.Group,{classsex:"mb-3",children:[Object(l.jsx)(v.a.Label,{children:"Sex"}),Object(l.jsxs)(v.a.Select,{onChange:function(e){"Male"===e.target.value?x("Male"):x("Female")},"aria-label":"Default select example",children:[Object(l.jsx)("option",{children:"Open this select menu"}),Object(l.jsx)("option",{value:"Male",children:"Male"}),Object(l.jsx)("option",{value:"Female",children:"Female"})]})]}),Object(l.jsxs)(v.a.Group,{classsex:"mb-3",children:[Object(l.jsx)(v.a.Label,{children:"Spayed or Neutered?"}),Object(l.jsxs)(v.a.Select,{onChange:function(e){"true"===e.target.value?M(!0):M(!1)},"aria-label":"Default select example",children:[Object(l.jsx)("option",{children:"Open this select menu"}),Object(l.jsx)("option",{value:"true",children:"Yes"}),Object(l.jsx)("option",{value:"false",children:"No"})]})]}),Object(l.jsxs)(v.a.Group,{classsex:"mb-3",controlId:"formBasicbirthdate",children:[Object(l.jsx)(v.a.Label,{children:"Birthdate:"}),Object(l.jsx)(v.a.Control,{value:S,onChange:function(e){return N(e.target.value)},type:"date"})]}),Object(l.jsxs)(v.a.Group,{classsex:"mb-3",controlId:"formBasicAllergies",children:[Object(l.jsx)(v.a.Label,{children:"Allergies"}),Object(l.jsx)(v.a.Control,{onChange:function(e){return k(e.target.value)},value:w,type:"text",placeholder:"Does your dog have any known allergies? If not, please type none"})]}),Object(l.jsxs)(v.a.Group,{classsex:"mb-3",controlId:"formBasicSuppliesLocation",children:[Object(l.jsx)(v.a.Label,{children:"Supplies Location"}),Object(l.jsx)(v.a.Control,{onChange:function(e){return B(e.target.value)},value:I,type:"text",placeholder:"Leash location, treats, etc..."})]}),Object(l.jsxs)(v.a.Group,{classsex:"mb-3",controlId:"formBasicBehaviorialNotes",children:[Object(l.jsx)(v.a.Label,{children:"Behaviorial Information"}),Object(l.jsx)(v.a.Control,{onChange:function(e){return A(e.target.value)},value:G,type:"text",placeholder:"Leash reactivity, tries to eat trash, etc..."})]}),(null===W||void 0===W?void 0:W.length)>0&&Object(l.jsx)("ul",{children:W.map((function(e){return Object(l.jsx)(g.a,{variant:"danger",children:e},e)}))}),Object(l.jsx)(f.a,{variant:"primary",type:"submit",children:"Submit"})]})]})}var k=a(17),L=a(18),P=a(55);function I(e){var t=e.pet,a=e.updateAppointmentsNew,c=Object(n.useContext)(o).user,s=Object(n.useState)(!1),r=Object(i.a)(s,2),j=r[0],d=r[1],u=Object(n.useState)(""),h=Object(i.a)(u,2),p=h[0],O=h[1],x=Object(n.useState)(""),m=Object(i.a)(x,2),y=m[0],S=m[1],N=Object(n.useState)(""),C=Object(i.a)(N,2),T=C[0],w=C[1],k=Object(n.useState)(""),L=Object(i.a)(k,2),P=L[0],I=L[1],B=Object(n.useState)(!1),D=Object(i.a)(B,2),_=D[0],G=D[1],A=Object(n.useState)(!1),E=Object(i.a)(A,2),F=E[0],U=E[1],M=Object(n.useState)(!1),Y=Object(i.a)(M,2),H=Y[0],W=Y[1],V=Object(n.useState)(!1),J=Object(i.a)(V,2),K=J[0],$=J[1],R=Object(n.useState)(!1),q=Object(i.a)(R,2),z=q[0],Q=q[1],X=Object(n.useState)(!1),Z=Object(i.a)(X,2),ee=Z[0],te=Z[1],ae=Object(n.useState)(!1),ne=Object(i.a)(ae,2),ce=ne[0],se=ne[1],re=Object(n.useState)([]),ie=Object(i.a)(re,2),le=ie[0],oe=ie[1];return console.log(y),Object(l.jsxs)(b.a,{className:"m-3",children:[Object(l.jsxs)("h1",{className:"display-6",children:["New Appointment for ",t.name]}),Object(l.jsxs)(v.a,{className:"text-bg-light p-3",onSubmit:function(e){e.preventDefault(),fetch("/appointments",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({user_id:c.id,pet_id:t.id,recurring:j,start_time:y,appointment_date:p,end_time:T,duration:P,monday:_,tuesday:F,wednesday:H,thursday:K,friday:z,saturday:ee,sunday:ce})}).then((function(e){e.ok?e.json().then((function(e){a(e)})):e.json().then((function(e){return oe(e.errors)}))}))},children:[Object(l.jsxs)(v.a.Group,{className:"mb-3",controlId:"formBasicappointmentDate",children:[Object(l.jsx)(v.a.Label,{children:"Start Time"}),Object(l.jsx)(v.a.Control,{onChange:function(e){return S(e.target.value)},value:y,type:"time"}),Object(l.jsx)(v.a.Text,{className:"text-muted",children:"Enter the start time (beginning of pick up window)"})]}),Object(l.jsxs)(v.a.Group,{className:"mb-3",children:[Object(l.jsx)(v.a.Label,{children:"End Time"}),Object(l.jsx)(v.a.Control,{type:"time",onChange:function(e){return w(e.target.value)},"aria-label":"Default select example"}),Object(l.jsx)(v.a.Text,{className:"text-muted",children:"Enter the end time (end of pick up window)"})]}),Object(l.jsxs)(v.a.Group,{className:"mb-3",controlId:"formBasicDuration",children:[Object(l.jsx)(v.a.Label,{children:"Walk Duration"}),Object(l.jsxs)(v.a.Select,{value:P,onChange:function(e){return I(e.target.value)},type:"date",children:[Object(l.jsx)("option",{children:"Open this select menu"}),Object(l.jsx)("option",{value:"30",children:"30 Minutes"}),Object(l.jsx)("option",{value:"45",children:"45 Minutes"}),Object(l.jsx)("option",{value:"60",children:"60 Minutes"})]})]}),Object(l.jsxs)(v.a.Group,{className:"mb-3",children:[Object(l.jsx)(v.a.Label,{children:"Is this a recurring walk?"}),Object(l.jsxs)(v.a.Select,{onChange:function(e){return d(!j)},"aria-label":"Default select example",children:[Object(l.jsx)("option",{value:!1,children:"No"}),Object(l.jsx)("option",{value:!0,children:"Yes"})]})]}),!1===j&&Object(l.jsxs)(v.a.Group,{className:"mb-3",children:[Object(l.jsx)(v.a.Label,{children:"Appointment Date"}),Object(l.jsx)(v.a.Control,{onChange:function(e){return O(e.target.value)},value:p,type:"date"})]}),!0===j&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)("h3",{children:"Please select which days of the week you would like this walk to be repeated."}),Object(l.jsxs)(v.a.Group,{className:"mb-3",children:[Object(l.jsx)(v.a.Label,{children:"Monday"}),Object(l.jsxs)(v.a.Select,{onChange:function(e){return G(!_)},"aria-label":"Default select example",children:[Object(l.jsx)("option",{value:!1,children:"No"}),Object(l.jsx)("option",{value:!0,children:"Yes"})]})]}),Object(l.jsxs)(v.a.Group,{className:"mb-3",children:[Object(l.jsx)(v.a.Label,{children:"Tuesday"}),Object(l.jsxs)(v.a.Select,{onChange:function(e){return U(!F)},"aria-label":"Default select example",children:[Object(l.jsx)("option",{value:!1,children:"No"}),Object(l.jsx)("option",{value:!0,children:"Yes"})]})]}),Object(l.jsxs)(v.a.Group,{className:"mb-3",children:[Object(l.jsx)(v.a.Label,{children:"Wednesday"}),Object(l.jsxs)(v.a.Select,{onChange:function(e){return W(!H)},"aria-label":"Default select example",children:[Object(l.jsx)("option",{value:!1,children:"No"}),Object(l.jsx)("option",{value:!0,children:"Yes"})]})]}),Object(l.jsxs)(v.a.Group,{className:"mb-3",children:[Object(l.jsx)(v.a.Label,{children:"Thursday"}),Object(l.jsxs)(v.a.Select,{onChange:function(e){return $(!K)},"aria-label":"Default select example",children:[Object(l.jsx)("option",{value:!1,children:"No"}),Object(l.jsx)("option",{value:!0,children:"Yes"})]})]}),Object(l.jsxs)(v.a.Group,{className:"mb-3",children:[Object(l.jsx)(v.a.Label,{children:"Friday"}),Object(l.jsxs)(v.a.Select,{onChange:function(e){return Q(!z)},"aria-label":"Default select example",children:[Object(l.jsx)("option",{value:!1,children:"No"}),Object(l.jsx)("option",{value:!0,children:"Yes"})]})]}),Object(l.jsxs)(v.a.Group,{className:"mb-3",children:[Object(l.jsx)(v.a.Label,{children:"Saturday"}),Object(l.jsxs)(v.a.Select,{onChange:function(e){return te(!ee)},"aria-label":"Default select example",children:[Object(l.jsx)("option",{value:!1,children:"No"}),Object(l.jsx)("option",{value:!0,children:"Yes"})]})]}),Object(l.jsxs)(v.a.Group,{className:"mb-3",children:[Object(l.jsx)(v.a.Label,{children:"Sunday"}),Object(l.jsxs)(v.a.Select,{onChange:function(e){return se(!ce)},"aria-label":"Default select example",children:[Object(l.jsx)("option",{value:!1,children:"No"}),Object(l.jsx)("option",{value:!0,children:"Yes"})]})]})]}),(null===le||void 0===le?void 0:le.length)>0&&Object(l.jsx)("ul",{children:le.map((function(e){return Object(l.jsx)(g.a,{variant:"danger",children:e},e)}))}),Object(l.jsx)(f.a,{variant:"primary",type:"submit",children:"Submit"})]})]})}function B(e){var t=e.apt,a=e.updateAppointmentsDelete,n=t.appointment_date;if(n){n=function(e){var t=e.slice(0,4),a=e.slice(5,7),n=e.slice(8,10);return"".concat(t,"-").concat(a,"-").concat(n)}(n)}function c(e){var t=new Date(e),a=String(t.getUTCHours()).padStart(2,"0"),n=String(t.getUTCMinutes()).padStart(2,"0");return"".concat(a,":").concat(n)}var s=c(t.start_time),r=c(t.end_time),i=[];return t.recurring&&(t.monday&&i.push("Monday"),t.tuesday&&i.push("Tuesday"),t.wednesday&&i.push("Wednesday"),t.thursday&&i.push("Thursday"),t.friday&&i.push("Friday"),t.saturday&&i.push("Saturday"),t.sunday&&i.push("Sunday")),Object(l.jsx)(x.a,{className:"border border-primary",style:{width:"100%"},children:Object(l.jsxs)(x.a.Body,{children:[!0===t.recurring&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(x.a.Title,{children:"Recurring Appointment"}),Object(l.jsxs)(x.a.Subtitle,{className:"mb-2 text-muted",children:[Object(l.jsx)("b",{children:"Earliest Pickup Time:"})," ",s," "]}),Object(l.jsxs)(x.a.Subtitle,{className:"mb-2 text-muted",children:[Object(l.jsx)("b",{children:"Latest Pickup Time:"})," ",r," "]}),Object(l.jsxs)(x.a.Text,{children:["This walk is to be repeated every ",i.join(", ")]})]}),!1===t.recurring&&Object(l.jsxs)(l.Fragment,{children:[Object(l.jsx)(x.a.Title,{children:"One Time Appointment"}),Object(l.jsxs)(x.a.Subtitle,{className:"mb-2 text-muted",children:[Object(l.jsx)("b",{children:"Date:"})," ",n," "]}),Object(l.jsxs)(x.a.Subtitle,{className:"mb-2 text-muted",children:[Object(l.jsx)("b",{children:"Earliest Pickup Time:"})," ",s," "]}),Object(l.jsxs)(x.a.Subtitle,{className:"mb-2 text-muted",children:[Object(l.jsx)("b",{children:"Latest Pickup Time:"})," ",r," "]}),Object(l.jsx)(x.a.Text,{children:"This is a one time appointment and will be displayed on the Appointments page on the date of the appointment."})]}),Object(l.jsx)(f.a,{onClick:function(){fetch("/appointments/".concat(t.id,"/canceled")).then((function(e){return e.json()})).then((function(e){return a(e)}))},className:"btn btn-danger",children:"Cancel Appointment"})]})})}function D(e){var t=e.pet,a=e.updateUserPets,c=e.updatePetsAfterDelete;function s(e){var t=new Date(e),a=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),c=String(t.getDate()).padStart(2,"0");return"".concat(a,"-").concat(n,"-").concat(c)}var r=Object(n.useState)(t.name),o=Object(i.a)(r,2),j=o[0],d=o[1],b=Object(n.useState)(t.address),u=Object(i.a)(b,2),h=u[0],p=u[1],O=Object(n.useState)(t.sex),m=Object(i.a)(O,2),y=m[0],S=m[1],C=Object(n.useState)(s(t.birthdate)),T=Object(i.a)(C,2),w=T[0],D=T[1],_=Object(n.useState)(t.allergies),G=Object(i.a)(_,2),A=G[0],E=G[1],F=Object(n.useState)(t.supplies_location),U=Object(i.a)(F,2),M=U[0],Y=U[1],H=Object(n.useState)(t.behavorial_notes),W=Object(i.a)(H,2),V=W[0],J=W[1],K=Object(n.useState)(t.spayed_neutered),$=Object(i.a)(K,2),R=$[0],q=$[1],z=Object(n.useState)(!1),Q=Object(i.a)(z,2),X=Q[0],Z=Q[1],ee=Object(n.useState)(t.appointments.filter((function(e){return!0!==e.canceled}))),te=Object(i.a)(ee,2),ae=te[0],ne=te[1],ce=Object(n.useState)([]),se=Object(i.a)(ce,2),re=se[0],ie=se[1],le=Object(n.useState)(null),oe=Object(i.a)(le,2),je=oe[0],de=oe[1],be=Object(n.useState)(!1),ue=Object(i.a)(be,2),he=ue[0],pe=ue[1],Oe=function(){return pe(!1)};function xe(){Z(!X)}function me(e){var t=ae.filter((function(t){return t.id!==e.id}));ne(t)}return Object(l.jsxs)(L.a,{className:"m-3",children:[Object(l.jsxs)(L.a.Item,{className:"text-bg-light p-3",eventKey:"0",children:[Object(l.jsxs)(L.a.Header,{children:[t.name,", ",t.address]}),Object(l.jsx)(L.a.Body,{children:Object(l.jsxs)(x.a,{style:{width:"100%"},children:[Object(l.jsx)(x.a.Img,{variant:"top",src:t.profile_pic}),Object(l.jsxs)(x.a.Body,{children:[Object(l.jsx)(x.a.Title,{children:t.name}),Object(l.jsx)(x.a.Text,{children:t.address})]}),Object(l.jsxs)(k.a,{className:"list-group-flush",children:[Object(l.jsxs)(k.a.Item,{children:[Object(l.jsx)("b",{children:"Sex:"})," ",t.sex,", ",t.spayed_neutered?"fixed":"Not fixed"]}),Object(l.jsxs)(k.a.Item,{children:[Object(l.jsx)("b",{children:"Supplies:"})," ",t.supplies_location]}),Object(l.jsxs)(k.a.Item,{children:[Object(l.jsx)("b",{children:"Notes:"})," ",t.behavorial_notes]}),Object(l.jsxs)(k.a.Item,{children:[Object(l.jsx)("b",{children:"Allergies:"})," ",t.allergies]}),Object(l.jsxs)(k.a.Item,{children:[Object(l.jsx)("b",{children:"Birthdate:"})," ",s(t.birthdate)]}),Object(l.jsxs)(k.a.Item,{children:[Object(l.jsx)("b",{children:"Appointments:"})," View and create appointments for ",t.name]}),ae.length<1&&Object(l.jsxs)("h4",{className:"display-6 m-3",children:["There are currently no appointments booked for ",t.name,"."]}),null===ae||void 0===ae?void 0:ae.map((function(e){return Object(l.jsx)(B,{updateAppointmentsDelete:me,apt:e,children:"Apt"},e.id)})),Object(l.jsxs)(f.a,{className:"m-4",variant:"primary",onClick:function(){console.log(t.id),xe()},children:["Create new appointment for ",t.name]}),!0===X&&Object(l.jsx)(I,{updateAppointmentsNew:function(e){ne([].concat(Object(N.a)(ae),[e])),xe()},pet:t})]})]})})]}),Object(l.jsxs)(L.a.Item,{className:"text-bg-light p-3",eventKey:"1",children:[Object(l.jsxs)(L.a.Header,{children:['Update "',t.name,'"']}),Object(l.jsxs)(L.a.Body,{children:[Object(l.jsxs)("h3",{classsex:"display-3",children:['Update information for "',t.name,'"']}),Object(l.jsxs)(v.a,{className:"text-bg-light p-3",onSubmit:function(e){e.preventDefault();var n=new FormData;n.append("name",j),n.append("address",h),n.append("sex",y),n.append("birthdate",w),n.append("supplies_location",M),n.append("allergies",A),n.append("behavorial_notes",V),n.append("profile_pic",je),fetch("/pets/".concat(t.id),{method:"PATCH",body:n,headers:{}}).then((function(e){e.ok?e.json().then((function(e){a(e)})):e.json().then((function(e){return ie(e.errors)}))}))},children:[Object(l.jsxs)(v.a.Group,{classsex:"mb-3",children:[Object(l.jsx)(v.a.Label,{children:"Pet's Photo"}),Object(l.jsx)(v.a.Control,{id:"file-upload",type:"file",accept:"image/*",onChange:function(e){de(e.target.files[0])}}),Object(l.jsx)(v.a.Label,{children:"Pet's Name"}),Object(l.jsx)(v.a.Control,{onChange:function(e){return d(e.target.value)},value:j,type:"text",placeholder:"Enter name"})]}),Object(l.jsxs)(v.a.Group,{classsex:"mb-3",controlId:"formBasicaddress",children:[Object(l.jsx)(v.a.Label,{children:"Address"}),Object(l.jsx)(v.a.Control,{onChange:function(e){return p(e.target.value)},value:h,type:"text",placeholder:"Enter address"}),Object(l.jsx)(v.a.Text,{classsex:"text-muted",children:"Please enter the address of the pet. Make sure to specify an apartment number if there is one."})]}),Object(l.jsxs)(v.a.Group,{classsex:"mb-3",children:[Object(l.jsx)(v.a.Label,{children:"Sex"}),Object(l.jsxs)(v.a.Select,{onChange:function(e){"male"===e.target.value?S("male"):S("Female")},"aria-label":"Default select example",value:y.toLowerCase(),children:[Object(l.jsx)("option",{children:"Open this select menu"}),Object(l.jsx)("option",{value:"male",children:"Male"}),Object(l.jsx)("option",{value:"female",children:"Female"})]})]}),Object(l.jsxs)(v.a.Group,{classsex:"mb-3",children:[Object(l.jsx)(v.a.Label,{children:"Spayed or Neutered?"}),Object(l.jsxs)(v.a.Select,{onChange:function(e){"true"===e.target.value?q(!0):q(!1)},"aria-label":"Default select example",value:R,children:[Object(l.jsx)("option",{children:"Open this select menu"}),Object(l.jsx)("option",{value:"true",children:"Yes"}),Object(l.jsx)("option",{value:"false",children:"No"})]})]}),Object(l.jsxs)(v.a.Group,{classsex:"mb-3",controlId:"formBasicbirthdate",children:[Object(l.jsx)(v.a.Label,{children:"Birthdate:"}),Object(l.jsx)(v.a.Control,{value:w,onChange:function(e){return D(e.target.value)},type:"date"})]}),Object(l.jsxs)(v.a.Group,{classsex:"mb-3",controlId:"formBasicAllergies",children:[Object(l.jsx)(v.a.Label,{children:"Allergies"}),Object(l.jsx)(v.a.Control,{onChange:function(e){return E(e.target.value)},value:A,type:"text",placeholder:"Does your dog have any known allergies? If not, please type none"})]}),Object(l.jsxs)(v.a.Group,{classsex:"mb-3",controlId:"formBasicSuppliesLocation",children:[Object(l.jsx)(v.a.Label,{children:"Supplies Location"}),Object(l.jsx)(v.a.Control,{onChange:function(e){return Y(e.target.value)},value:M,type:"text",placeholder:"Leash location, treats, etc..."})]}),Object(l.jsxs)(v.a.Group,{classsex:"mb-3",controlId:"formBasicBehaviorialNotes",children:[Object(l.jsx)(v.a.Label,{children:"Behaviorial Information"}),Object(l.jsx)(v.a.Control,{onChange:function(e){return J(e.target.value)},value:V,type:"text",placeholder:"Leash reactivity, tries to eat trash, etc..."})]}),(null===re||void 0===re?void 0:re.length)>0&&Object(l.jsx)("ul",{children:re.map((function(e){return Object(l.jsx)(g.a,{variant:"danger",children:e},e)}))}),Object(l.jsx)("br",{}),Object(l.jsxs)(f.a,{className:"p-2 m-2",variant:"primary",type:"submit",children:["Update ",t.name]}),Object(l.jsxs)(f.a,{className:"p-2 m-2",variant:"danger",onClick:function(){return pe(!0)},children:["Delete ",t.name]})]}),Object(l.jsxs)(P.a,{show:he,onHide:Oe,children:[Object(l.jsx)(P.a.Header,{closeButton:!0,children:Object(l.jsxs)(P.a.Title,{children:["Delete ",t.name]})}),Object(l.jsxs)(P.a.Body,{children:["Are you sure you want to delete pet information for ",t.name,"? This will also destroy all associated invoices and appointments. This information will not be ale to be recovered after deletion."]}),Object(l.jsxs)(P.a.Footer,{children:[Object(l.jsx)(f.a,{variant:"secondary",onClick:Oe,children:"Close"}),Object(l.jsxs)(f.a,{variant:"danger",onClick:function(){fetch("/pets/".concat(t.id),{method:"DELETE"}).then((function(e){return e.json()})).then((function(e){console.log(e),pe(!1),c(e)}))},children:["Delete ",t.name]})]})]})]})]})]})}function _(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),a=t[0],c=t[1],s=Object(n.useState)([]),r=Object(i.a)(s,2),o=r[0],j=r[1];function d(e){var t=o.filter((function(t){return t.id!==e.id}));j([e].concat(Object(N.a)(t)))}function u(e){var t=o.filter((function(t){return t.id!==e.id}));j(t)}return Object(n.useEffect)((function(){fetch("/pets").then((function(e){e.ok&&e.json().then((function(e){j(e)}))}))}),[]),o?Object(l.jsxs)(b.a,{className:"m-3",children:[Object(l.jsxs)(C.a,{children:[Object(l.jsx)(T.a,{children:Object(l.jsx)("h2",{className:"display-4",children:"Current Pets"})}),Object(l.jsx)(T.a,{children:Object(l.jsx)(f.a,{className:"m-2",variant:"primary",onClick:function(){c(!a)},children:"Create New Pet"})})]}),Object(l.jsx)(b.a,{className:"m-3",children:!0===a&&Object(l.jsx)(w,{updateUserPets:function(e){j([].concat(Object(N.a)(o),[e])),c(!1)}})}),Object(l.jsx)(b.a,{fluid:"md",children:o.map((function(e){return Object(l.jsx)(D,{updatePetsAfterDelete:u,updateUserPets:d,pet:e},e.id)}))})]}):Object(l.jsx)("div",{children:"...loading"})}var G=c.a.createContext();function A(e){var t=e.children,a=Object(n.useState)(null),c=Object(i.a)(a,2),s=c[0],r=c[1];return Object(n.useEffect)((function(){fetch("/appointments").then((function(e){e.ok&&e.json().then((function(e){return r(e)}))}))}),[]),Object(l.jsx)(G.Provider,{value:{appointments:s,setAppointments:r},children:t})}function E(e){var t=e.apt,a=e.updateAppointments;function n(e){var t=new Date(e),a=String(t.getUTCHours()).padStart(2,"0"),n=String(t.getUTCMinutes()).padStart(2,"0");return"".concat(a,":").concat(n)}var c=n(t.start_time),s=n(t.end_time);function r(e){var t=new Date,a=e.substr(11),n=t.toISOString().substr(0,10);return"".concat(n,"T").concat(a)}var i={width:"100px",height:"100px",margin:"15px",borderRadius:"50%",objectFit:"cover"};return t.invoices.filter((function(e){return e.date_completed===r(t.start_time)})).length>0?Object(l.jsx)(x.a,{className:"m-3 bg-success",style:{width:"100%"},children:Object(l.jsxs)(x.a.Body,{children:[Object(l.jsx)("img",{alt:"Pet associated with appointment",style:i,src:t.pet.profile_pic}),Object(l.jsxs)(x.a.Title,{children:[t.pet.name,", ",t.duration," minute walk between ",c," & ",s,"."]}),Object(l.jsx)(x.a.Text,{className:"display-6",children:"Walk Completed"})]})}):Object(l.jsxs)(x.a,{className:"m-3",style:{width:"100%"},children:[Object(l.jsxs)(x.a.Body,{children:[Object(l.jsx)("img",{alt:"Pet associated with appointment",style:i,src:t.pet.profile_pic}),Object(l.jsx)(x.a.Title,{children:t.pet.name}),Object(l.jsx)(x.a.Text,{children:t.pet.supplies_location}),Object(l.jsx)(x.a.Text,{children:t.pet.behavorial_notes})]}),Object(l.jsxs)(k.a,{className:"list-group-flush",children:[Object(l.jsxs)(k.a.Item,{children:[Object(l.jsx)("b",{children:"Earliest pick up time:"})," ",c]}),Object(l.jsxs)(k.a.Item,{children:[Object(l.jsx)("b",{children:"Latest pick up time:"})," ",s]}),Object(l.jsxs)(k.a.Item,{children:[Object(l.jsx)("b",{children:"Address:"})," ",t.pet.address]}),Object(l.jsxs)(k.a.Item,{children:[Object(l.jsx)("b",{children:"Walk Duration:"})," ",t.duration," minutes"]})]}),Object(l.jsx)(x.a.Body,{children:Object(l.jsx)(f.a,{onClick:function(){var e=0;e=30===t.duration?22:45===t.duration?27:33,!1===t.recurring&&fetch("/appointments/".concat(t.id,"/canceled")).then((function(e){return e.json()})).then((function(e){return console.log(e)})),fetch("/invoices",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({pet_id:t.pet.id,appointment_id:t.id,date_completed:r(t.start_time),paid:!1,compensation:e})}).then((function(e){return e.json()})).then((function(e){var n=t;n.invoices.push(e),a(n)}))},children:"Complete Walk"})})]})}function F(){var e=Object(n.useContext)(G),t=e.appointments,a=e.setAppointments;function c(e){var n=t.filter((function(t){return t.id!==e.id}));a([].concat(Object(N.a)(n),[e]))}var s=function(){var e=new Date,t=e.getFullYear(),a=(e.getMonth()+1).toString().padStart(2,"0"),n=e.getDate().toString().padStart(2,"0");return"".concat(t,"-").concat(a,"-").concat(n)}();return(null===t||void 0===t?void 0:t.length)>0?Object(l.jsxs)(b.a,{className:"m-3",children:[Object(l.jsx)("h2",{className:"display-4",children:"Today's Appointments"}),Object(l.jsxs)("h4",{className:"display-6",children:["Current Date: ",s]}),t.map((function(e){return Object(l.jsx)(E,{updateAppointments:c,apt:e},e.id)}))]}):Object(l.jsxs)(b.a,{className:"m-3",children:[Object(l.jsx)("h2",{className:"display-4",children:"Today's Appointments"}),Object(l.jsx)(b.a,{className:"display-6",children:"You currently have no appointments booked"})]})}function U(e){var t=e.pet,a=(e.updateUserPets,Object(n.useState)(t.invoices)),c=Object(i.a)(a,2),s=c[0],r=c[1],o=s.filter((function(e){return!1===e.paid})),j=s.filter((function(e){return!0===e.paid})),d=0;return o.forEach((function(e){return d+=e.compensation})),Object(l.jsxs)(L.a,{className:"m-3",children:[Object(l.jsxs)(L.a.Item,{className:"text-bg-light p-3",eventKey:"0",children:[Object(l.jsxs)(L.a.Header,{children:["Current Invoice for ",t.name]}),Object(l.jsxs)(L.a.Body,{children:[Object(l.jsxs)("h3",{classsex:"display-3",children:['Current Invoice For "',t.name,'"']}),Object(l.jsxs)(x.a,{style:{width:"100%"},children:[Object(l.jsx)(x.a.Img,{variant:"top",src:t.profile_pic}),Object(l.jsx)(x.a.Body,{children:Object(l.jsx)(x.a.Title,{children:t.name})}),Object(l.jsx)(k.a,{className:"list-group-flush",children:o.map((function(e){return Object(l.jsxs)(k.a.Item,{children:[e.date_completed,", $",e.compensation]},e.id)}))}),Object(l.jsx)(x.a.Text,{className:"m-3",children:Object(l.jsxs)("b",{children:["Total = $",d]})}),Object(l.jsx)(f.a,{onClick:function(){o.forEach((function(e){fetch("/invoices/".concat(e.id,"/paid")).then((function(e){return e.json()})).then((function(e){j.push(e)}))})),r(j)},children:"Paid"})]})]})]}),Object(l.jsxs)(L.a.Item,{className:"text-bg-light p-3",eventKey:"1",children:[Object(l.jsxs)(L.a.Header,{children:["Past invoices for ",t.name]}),Object(l.jsxs)(L.a.Body,{children:[Object(l.jsxs)("h3",{classsex:"display-3",children:['Past Invoices For "',t.name,'"']}),Object(l.jsx)(k.a,{className:"list-group-flush",children:j.map((function(e){return Object(l.jsxs)(k.a.Item,{children:[e.date_completed,", $",e.compensation]},e.id)}))})]})]})]})}function M(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],c=t[1];return Object(n.useEffect)((function(){fetch("/pets").then((function(e){e.ok&&e.json().then((function(e){c(e)}))}))}),[]),a?Object(l.jsxs)(b.a,{className:"m-3",children:[Object(l.jsx)(C.a,{children:Object(l.jsx)(T.a,{children:Object(l.jsx)("h2",{className:"display-4",children:"Invoices"})})}),Object(l.jsx)(b.a,{fluid:"md",children:a.map((function(e){return Object(l.jsx)(U,{pet:e},e.id)}))})]}):Object(l.jsx)("div",{children:"...loading"})}function Y(){var e,t=Object(n.useContext)(G).appointments,a=Object(n.useContext)(o).user;return Object(l.jsxs)(l.Fragment,{children:[Object(l.jsxs)("h1",{className:"display-4 m-3",children:["Welcome, ",a.username,"."]}),Object(l.jsxs)(x.a,{className:"m-2",children:[Object(l.jsx)(x.a.Header,{as:"h5",children:"Today's Schedule"}),Object(l.jsxs)(x.a.Body,{children:[(null===t||void 0===t?void 0:t.length)>0&&Object(l.jsxs)(x.a.Title,{children:["You have ",null===t||void 0===t?void 0:t.length," appointments today."]}),Object(l.jsx)(x.a.Text,{children:'Visit the "Today" page to view appointments and mark them as completed as you go.'}),Object(l.jsx)(f.a,{variant:"primary",href:"/todayswalkspage",children:"Today's Walks"})]})]}),Object(l.jsxs)(x.a,{className:"m-2",children:[Object(l.jsx)(x.a.Header,{as:"h5",children:"Current Pets"}),Object(l.jsxs)(x.a.Body,{children:[Object(l.jsxs)(x.a.Title,{children:["You have ",null===(e=a.pets)||void 0===e?void 0:e.length," pets in your database!"]}),Object(l.jsx)(x.a.Text,{children:'Visit the "Pets" page to view, edit, & delete these pets.'}),Object(l.jsx)(f.a,{variant:"primary",href:"/petspage",children:"Pets Page"})]})]}),Object(l.jsxs)(x.a,{className:"m-2",children:[Object(l.jsx)(x.a.Header,{as:"h5",children:"View Invoices"}),Object(l.jsxs)(x.a.Body,{children:[Object(l.jsx)(x.a.Title,{children:"Current and past invoices for all pets"}),Object(l.jsx)(x.a.Text,{children:'Visit the "Invoice" page to view current invoices (unpaid), and past invoices (paid) for each pet in your database.'}),Object(l.jsx)(f.a,{variant:"primary",href:"/invoicespage",children:"Invoices Page"})]})]})]})}var H=function(){return Object(n.useContext)(o).user?Object(l.jsxs)("div",{children:[Object(l.jsx)(p,{}),Object(l.jsx)(A,{children:Object(l.jsxs)(d.c,{children:[Object(l.jsx)(d.a,{path:"/loggedinhome",element:Object(l.jsx)(Y,{})}),Object(l.jsx)(d.a,{path:"/login",element:Object(l.jsx)(y,{})}),Object(l.jsx)(d.a,{path:"/signuppage",element:Object(l.jsx)(S,{})}),Object(l.jsx)(d.a,{path:"/petspage",element:Object(l.jsx)(_,{})}),Object(l.jsx)(d.a,{path:"/todayswalkspage",element:Object(l.jsx)(F,{})}),Object(l.jsx)(d.a,{path:"/invoicespage",element:Object(l.jsx)(M,{})})]})})]}):Object(l.jsxs)("div",{children:[Object(l.jsx)(O,{}),Object(l.jsxs)(d.c,{children:[Object(l.jsx)(d.a,{path:"/",element:Object(l.jsx)(m,{})}),Object(l.jsx)(d.a,{path:"/login",element:Object(l.jsx)(y,{})}),Object(l.jsx)(d.a,{path:"/signuppage",element:Object(l.jsx)(S,{})})]})]})},W=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,99)).then((function(t){var a=t.getCLS,n=t.getFID,c=t.getFCP,s=t.getLCP,r=t.getTTFB;a(e),n(e),c(e),s(e),r(e)}))},V=a(46);r.a.render(Object(l.jsx)(c.a.StrictMode,{children:Object(l.jsx)(V.a,{children:Object(l.jsx)(j,{children:Object(l.jsx)(A,{children:Object(l.jsx)(H,{})})})})}),document.getElementById("root")),W()}},[[97,1,2]]]);
//# sourceMappingURL=main.6b326357.chunk.js.map